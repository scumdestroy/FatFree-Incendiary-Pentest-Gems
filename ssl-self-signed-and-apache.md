Generate a self-signed Certificate in one command.
```
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/example/example.key -out /etc/ssl/example/example.crt
 ```
req : means generating a cert
-x509 : using x509 specification  
-nodes - Since we’re doing this in one step, don’t encrypt the Private Key (since it may require a password). Read more here.
-days 365 - Create a certificate valid for 1 year
rsa:2048 - Use a 2048 bit Private Key
-keyout /etc/apache2/ssl/example.key - Where to put the Private Key
-out /etc/apache2/ssl/example.crt - Where to put the generated Certificate

To use it, use `curl with -K (or --insecure)` or  ` wget --no-check-certificate https://yall.file`


Why do this? 
In production, you'll need to "purchase" an SSL certificate to be able to use any resources not hosted on your own server (errors, warnings, lost functionality, etc..) .  
With this, you can test your web app for issues without waiting for it to lanuch into production to find bugs.

Doing this the usual, longer way.
```
# Create a 2048 bit private key
# Change your -out filepath as needed
 sudo mkdir -p /etc/ssl/example
 sudo openssl genrsa -out "/etc/ssl/example/example.key" 2048
```
Make a CSR w/ private key we just made.
```
sudo openssl req -new -key "/etc/ssl/example/example.key" \
 -out "/etc/ssl/example/example.csr"
```
It will ask you some questions.  Feel free to avoid e-mail and whatever else.  Your web host may require you to have a challenge password (required to regenerate your cert if it is lost)

Now we have example.key and example.csr.
```
sudo openssl x509 -req -days 365 -in "/etc/ssl/example/example.csr" \
 -signkey "/etc/ssl/example/example.key" \
-out "/etc/ssl/example/example.crt"
```

## Using this cert in your own Apache Server

Enable SSL module
```
sudo a2enmod ssl
sudo service apache2 restart
```
To enable SSL for our site, we need to edit the configuration file.  It will likely look like this.
File: /etc/apache2/sites-available/example.conf
```
<VirtualHost *:80>
ServerName example.local

DocumentRoot /var/www/example.local
...etc..
```
Add another file at this location (/etc/apache2/sites-available/) for your SSL page. (i.e. ssl-page.conf)
```
 <VirtualHost *:443>
 	ServerName example.local
 
 	DocumentRoot /var/www/example.local
 
 	SSLEngine on
 
 	SSLCertificateFile  /etc/ssl/example/example.crt
 	SSLCertificateKeyFile /etc/ssl/example/example.key
 
 	# And some extras, copied from Apache's default SSL conf virtualhost
 	<FilesMatch "\.(cgi|shtml|phtml|php)$">
    	SSLOptions +StdEnvVars
 	</FilesMatch>
 
 	BrowserMatch "MSIE [2-6]" \
     	nokeepalive ssl-unclean-shutdown \
     	downgrade-1.0 force-response-1.0
 	# MSIE 7 and newer should be able to use keepalive
 	BrowserMatch "MSIE [7-9]" ssl-unclean-shutdown
 
	... and the rest ...
</VirtualHost>
```
Cool! Now just flip the switch and your server should be safe for the first time ever.
`sudo service apache2 reload`

Here's an example of what some of that last conf file can look like if you need more clarity.
```
<VirtualHost *:443>
 	ServerName project-a.192.168.33.10.xip.io
 
 	DocumentRoot /var/www/example.local
 
 	SSLEngine on
 
 	SSLCertificateFile  /etc/ssl/xip.io/xip.io.crt
 	SSLCertificateKeyFile /etc/ssl/xip.io/xip.io.key
 
 	# And some extras, copied from Apache's default SSL conf virtualhost
 	<FilesMatch "\.(cgi|shtml|phtml|php)$">
     	SSLOptions +StdEnvVars
 	</FilesMatch>
 
	BrowserMatch "MSIE [2-6]" \
     	nokeepalive ssl-unclean-shutdown \
    	downgrade-1.0 force-response-1.0
 	# MSIE 7 and newer should be able to use keepalive
	BrowserMatch "MSIE [7-9]" ssl-unclean-shutdown

	... and the rest ...
</VirtualHost>
```

Filthy and inhumane "generate-ssl.sh" script for making wildcard domain certs.  Change variables as needed before running. :) 
```
#!/bin/sh

SSL_DIR="/etc/ssl/$1
DOMAIN="*.$1
PASSPHRASE=""
SUBJ="
C=US
ST=XO
O=
localityName=Gotham
commonName=$1
organizationalUnitName=Project-X
emailAddress=
"
sudo mkdir -p "$SSL_DIR"
sudo openssl genrsa -out "$SSL_DIR/$1.key" 2048

sudo openssl req -new -subj "$(echo -n "$SUBJ" | tr "\n" "/")"  -key "$SSL_DIR/$1.key"  -out "$SSL_DIR/$1.csr" -passin pass:$PASSPHRASE

sudo openssl x509 -req -days 365 -in "$SSL_DIR/xip.io.csr" -signkey "$SSL_DIR/$1.key"  -out "$SSL_DIR/$1.crt"
```
