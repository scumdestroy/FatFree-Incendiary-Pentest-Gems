
### SSH Session Control
[SSHPry - https://github.com/nopernik/SSHPry2.0](https://github.com/nopernik/SSHPry2.0)


## SSH multiple systems

Using pssh (apt install pssh)
```
    apt install pssh
    add all target hosts to hosts.txt
```

Exec command using ssh key (pssh)
```
    parallel-ssh -i -x "-i /path/to/keyfile" -h hosts.txt <cmd>
```

Exec command using password (prompts for pass)
```
    parallel-ssh -i -l james -A -h hosts.txt <cmd>
```

scp to targets (pscp)
```
    parallel-scp -l james -A -h hosts.txt /path/on/local /path/on/source
```

rsync to targets (prsync)
```
    parallel-rsync -r -l james -A -h hosts.txt /path/on/local /path/on/remote
```

copy single file from targets
```
    parallel-slurp -l james -A -h hosts.txt -L /path/to/local/destination /path/to/remote/filename filename
```

copy recursively from targets (pslurp)
```
    parallel-slurp -r -l james -A -h hosts.txt -L /path/to/local/destination /path/to/remote/folder foldername
```
