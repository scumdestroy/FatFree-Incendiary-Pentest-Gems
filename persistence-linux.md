## Linux Persistence Ideas
```
	Add SSH keys
	Add SUID to world-writeable script (chmod u+s <file>)
	Add init script (reboot persistence)
	autostart
	bash profile/rc
	binary replacement
	Cron
	LD_PRELOAD
	LKM
	pam module
	shared library hijacking
	trap
	user addition
	web shell
```
https://github.com/redcanaryco/atomic-red-team/blob/master/atomics/linux-index.md

### traps

File execution on clean exit
```
   tfile=/path/file
   trap "python $tfile" EXIT 
```

Command execution on clean exit
```
   # Additional cmds run above trap
   trap "some_cmd -switch" EXIT 
```

Command execution on CTRL-C
```
   trap "some_cmd -switch" SIGINT
   # Additional cmds run below trap 
```

Function execution on clean exit
```
    function testexec()
    {
    	Insert code here
    }
    trap testexec EXIT
```
